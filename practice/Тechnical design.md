Цели

*   выявить большую часть проблем на раннем этапе разработки (до того, как начали писать код);
*   минимизировать количество ненужной работы;
*   выявить дополнительную работу, явно не указанную в описании задачи;
*   обменяться знаниями и опытом.

Технический дизайн
==================

Технический дизайн – это артефакт, описывающий КАК мы будем делать задачу.

Тех. дизайн != постановке, по сравнению с ней он содержит намного меньше деталей.

Процесс
-------

*   Тех. дизайн делаем для всех задач, кроме улучшения процесса и консультаций (не бывает задач, над которыми вредно думать)
    
*   Фиксируем письменно в Confluence по шаблону (1 задача = 1 тех. дизайн)
*   Прикладываем ссылку на тех. дизайн к описанию задачи в Jira
*   Сделал тех. дизайн – напиши в командный чат, чтобы каждый мог с ним ознакомиться при необходимости
*   Для самопроверки используй [рекомендации по составлению технического дизайна](https://conflu.lan.ubrr.ru/pages/viewpage.action?pageId=306323273).  
    Рекомендации – это не список того, что должно быть описано в каждом тех. дизайне. Это вопросы, которые можно себе задать и, возможно, ответы на них будут важны для реализации задачи. Для сложных случаев (например, новый бизнес-процесс или интеграция с другой системой) нарисуй схему, которая будет отражать основные моменты.  
    
*   Это заметно упростит поиск потенциальных проблем, а также даст возможность быстро вспомнить принятый подход, когда мы вернемся к этой функциональности в будущем.
*   Если тех. дизайн стал неактуален – меняй его (бездумно следовать дизайну - страшно, писать код не по дизайну - еще страшнее)
*   Тех. дизайн должен быть понятен читателю, чтобы была возможность дизайн-ревью проводить асинхронно

  

  

Дизайн-ревью
============

Дизайн-ревью – процесс ревью технического дизайна. Выполняется ДО того, как мы начали писать код.

Интуитивно кажется, что этот дополнительный шаг замедлит работу.   
Фактически же, более детальная проработка на старте позволяет снизить количество ошибок при тестировании, инцидентов, и избежать появления лишнего технического долга. Также, если функциональность спроектирована недостаточно качественно, ее доработка в будущем становится заметно более сложной (вплоть до переписывания всей логики).

Процесс
-------

*   Дизайн-ревью делаем для всех задач, кроме улучшения процесса и консультаций
    
*   Дизайн-ревью каждой задачи проводят лид аналитики и лид разработки  
    Лид аналитики – Влад, замещает Оля.  
    Лид разработки – Миша, замещает Никита.
*   Запросы на дизайн-ревью обрабатываем в приоритетном порядке, ASAP
*   Не забывайте, что ревьюер - это партнер, а не противник. У вас одна цель - сделать качественный продукт

Результат проведения дизайн-ревью
---------------------------------

Технический дизайн согласован лидом аналитики и лидом разработки или найдены ошибки / получены рекомендации, как сделать лучше.

Ошибкой признается случай, когда вам демонстрируют сценарий, который на вашу схему не ложится. И этот случай является реальным, а не гипотетическим.  
Или когда вам показывают, каким образом система может прийти в некорректное состояние.

  

Часто возникающие сложности
===========================

*   Сложно научиться сначала думать, а потом делать
    
*   Сложно научиться писать коротко
    
*   Не работает без "зачем" у каждой задачи
    
*   Не работает при долгом ревью / долгом ожидании ревью
    

  

FAQ
===

<table class="wrapped confluenceTable"><colgroup><col><col></colgroup><tbody><tr><td class="confluenceTd">Кто составляет тех. дизайн?</td><td class="confluenceTd">Тех. дизайн составляет тот, кто анализирует задачу и проектирует решение.</td></tr><tr><td class="confluenceTd">Нужно ли разработчику писать тех. дизайн?</td><td class="confluenceTd">Да, если разработчик выступает аналитиком по задаче или если аналитику потребовалась его помощь.</td></tr><tr><td class="confluenceTd">Можно ли не делать постановку по задаче, для которой уже написан тех. дизайн?</td><td class="confluenceTd"><p>Постановка – документ, который необходим для передачи информации от аналитика к разработчику, а также в случае необходимости согласования с заказчиком.</p><p>Соответственно, в том случае, если аналитик и разработчик – это один и тот же человек, и если согласование заказчика не требуется, постановку можно не делать.</p></td></tr><tr><td class="confluenceTd">Нужно ли создавать подзадачи для тех. дизайна и дизайн-ревью?</td><td class="confluenceTd">Да. Для тех. дизайна создаем 1 подзадачу на подготовку, для дизайн-ревью –&nbsp;2 (по задаче на каждого ревьюера).</td></tr><tr><td colspan="1" class="confluenceTd">Можно ли не дожидаться окончания дизайн-ревью и продолжать работу над задачей?</td><td colspan="1" class="confluenceTd">Можно, если уверен на 100%.<br>Но написанный код или постановка не будут аргументом для того, чтобы не переделывать, если в результате дизайн-ревью будут найдены ошибки/рекомендации.</td></tr></tbody></table>

Дополнительные практики
=======================

*   Парное проектирование  
    В проектировании участвуют двое (третий здесь - лишний, сделает хуже). После этого один идет выполнять задачу дальше, пока не дойдет до расхождения реализации с планом. В этот момент он останавливается и возвращается ко второму и они вместе перепроектируют систему. Повторять до завершения.
    
*   Парное программирование  
    Можно попробовать для сложных участков кода
    
*   Декомпозиция  
    Часто тех. дизайн уже содержит в себе декомпозицию (или ее легко из него сделать), т.к. мы там уже описали ключевые изменения.  
    

  

На эту тему можно посмотреть видео: [https://11.codefest.ru/lecture/1790](https://11.codefest.ru/lecture/1790) / [https://www.youtube.com/watch?v=AOgXt1AH61k](https://www.youtube.com/watch?v=AOgXt1AH61k) (обе ссылки не работают из контура банка). Первые 14 минут.

